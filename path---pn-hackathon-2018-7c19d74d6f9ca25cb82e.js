webpackJsonp([0xb427cf40a2ba],{531:function(a,t){a.exports={data:{site:{siteMetadata:{title:"For Enablers",author:"Kyle Mathews"}},markdownRemark:{id:"/home/travis/build/forenablers/forenablers.github.io/src/pages/pn-hackathon-2018/index.md absPath of file >>> MarkdownRemark",html:'<p>Do you have a lot of data that you were collecting many years and now you consider doing some magic by applying Machine Learning? It might be dissapointing to get to know that the data you were collecting is not complete. </p>\n<p>In this post I’ll summarize our experience of trying to apply Machine Learning during our company’s internal hackathon(<a href="">here are more info about the hackathon</a>). </p>\n<h3>Problem</h3>\n<p>During the hackathon we takled a <strong>parking availability</strong> problem that was stated as follows:</p>\n<blockquote>\n<p>As a customer I want to search for parking in a specific area and get insight if there are spaces available? Show our customers parking prediction per street/area using our transaction history.</p>\n</blockquote>\n<p>The brute force approach would be to hardcode the availability for all possible parameters’ values that affect the availability in particular parking location. Suppose that as parameters we have only <code class="language-text">month</code>, <code class="language-text">date</code>, <code class="language-text">week day</code> and <code class="language-text">time</code>, then the lookup table for one of the parking locations will look like:</p>\n<table>\n<thead>\n<tr>\n<th>Month</th>\n<th>Date</th>\n<th>Week day</th>\n<th>Time</th>\n<th>Availability</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>January</td>\n<td>1</td>\n<td>Monday</td>\n<td>00:00</td>\n<td>Available</td>\n</tr>\n<tr>\n<td>January</td>\n<td>1</td>\n<td>Monday</td>\n<td>00:05</td>\n<td>Available</td>\n</tr>\n<tr>\n<td>January</td>\n<td>1</td>\n<td>Monday</td>\n<td>00:10</td>\n<td>Available</td>\n</tr>\n<tr>\n<td>January</td>\n<td>1</td>\n<td>Monday</td>\n<td>00:15</td>\n<td>Available</td>\n</tr>\n<tr>\n<td>…</td>\n<td>…</td>\n<td>…</td>\n<td>…</td>\n<td>…</td>\n</tr>\n<tr>\n<td>January</td>\n<td>1</td>\n<td>Tuesday</td>\n<td>00:25</td>\n<td>Unavailable</td>\n</tr>\n<tr>\n<td>January</td>\n<td>1</td>\n<td>Tuesday</td>\n<td>00:30</td>\n<td>Unavailable</td>\n</tr>\n<tr>\n<td>January</td>\n<td>1</td>\n<td>Tuesday</td>\n<td>00:35</td>\n<td>Available</td>\n</tr>\n<tr>\n<td>…</td>\n<td>…</td>\n<td>…</td>\n<td>…</td>\n<td>…</td>\n</tr>\n<tr>\n<td>December</td>\n<td>31</td>\n<td>Sunday</td>\n<td>23:55</td>\n<td>Available</td>\n</tr>\n</tbody>\n</table>\n<p>Having such a lookup table we could tell to someone who wants to park in this location on Tuesday January 1st at 0:27 that there are no available parking spots.</p>\n<p>Unfortunately we don’t know <strong>what</strong> and <strong>how</strong> influences the availability. That is why creating such a lookup table is not feasible. </p>\n<p>To be honest, we didn’t even consider that because the first solution that poped up in our technology driven minds was Machine Learning. </p>\n<h3>Machine Learning</h3>\n<p>What do we know about Machine Learning?</p>\n<blockquote>\n<p>Machine learning is like teenage sex: everyone talks about it, nobody really knows how to do it, everyone thinks everyone else is doing it, so everyone claims they are doing it.. </p>\n<p>(c) Someone smart and funny</p>\n</blockquote>\n<p>What we want essentually is that our program learns how to solve a problem <strong>itself</strong> by discovering hidden patterns in the training data set.</p>\n<p>There are following types of learning methods available to solve different types of problems:</p>\n<ul>\n<li>Supervised learning for predictions and classifications</li>\n<li>Unsupervised learning for clustering and associations</li>\n<li>Reinforcement learning for learning from experiments</li>\n</ul>\n<p>As we can see above, to be able to make predictions about parking availability we need to utilize supervised learning. </p>\n<h3>Supervised learning</h3>\n<p>How does the supervised learning works? In supervise learning we perform followind steps to train our model:</p>\n<ul>\n<li>initialize a model with random parameters</li>\n<li>ask model to make predictions based on an input data</li>\n<li>evaluate the prediction based on <strong>known output</strong></li>\n<li>adjusts model’s parameters to minimize the error </li>\n</ul>\n<p>The key point is that <strong>we must know the prediction(output) for each input</strong> in the training data set. This paired data of <em>inputs and results</em> is named <strong>labeled</strong> data.</p>\n<p>The classical example of labeled data for supervised learning is a data set of labeled images with dogs and cats. We know who is pictured on each image: a cat or a dog.</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/casndogs-b3c0a3acb51b96da704cb63ec641e860-778cc.jpg"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 75.07836990595611%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHcTiWDD//EABkQAQACAwAAAAAAAAAAAAAAAAEAAhAhQf/aAAgBAQABBQLuLagqT//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABcQAQADAAAAAAAAAAAAAAAAABAAETH/2gAIAQEABj8Cmlv/xAAdEAEAAgEFAQAAAAAAAAAAAAABABExIUFRYYHR/9oACAEBAAE/IXXJPY5+oXzElpfUAKU7l4hP/9oADAMBAAIAAwAAABCwD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAQEAAgMBAAAAAAAAAAAAAAERACExUWFB/9oACAEBAAE/ENk0JxigAodnFEhn15wALzQXzeWu5duurN4Gb5z/2Q==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"\n        alt="Cats & Dogs"\n        title=""\n        src="/static/casndogs-b3c0a3acb51b96da704cb63ec641e860-f8fb9.jpg"\n        srcset="/static/casndogs-b3c0a3acb51b96da704cb63ec641e860-e8976.jpg 148w,\n/static/casndogs-b3c0a3acb51b96da704cb63ec641e860-63df2.jpg 295w,\n/static/casndogs-b3c0a3acb51b96da704cb63ec641e860-f8fb9.jpg 590w,\n/static/casndogs-b3c0a3acb51b96da704cb63ec641e860-778cc.jpg 638w"\n        sizes="(max-width: 590px) 100vw, 590px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>The knowledge of the output allows us to train the model in supervised manner. </p>\n<h3>Parking Availability Training Data Set</h3>\n<p>Now let’s try to answer the question - <strong>how our training data set should look like so that we could predict parking availability?</strong></p>\n<p><strong>The output data</strong> should be either <em>parking is available</em> or <em>unavailable</em>. It can have different forms ofcourse - binary(yes, no), or probability of availability(87% is available), or something else.</p>\n<p><strong>The input data</strong> should have features that influence parking availability. Features selection is a quite chellanging problem itself. We need to select them wisely so that our model will make quite accurate predictions for inputs that it haven’t seen before.</p>\n<p>Desired data set could look like this:</p>\n<table>\n<thead>\n<tr>\n<th>input \n<br />\n curLat, curLon, destLat, destLon, day, minute</th>\n<th>label (output) \n<br />\n availability</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class="language-text">52.3485772, 5.0082082, 52.356612, 4.895434, 244, 772</code></td>\n<td><span style="color:#0a0">\ntrue\n</span></td>\n</tr>\n<tr>\n<td><code class="language-text">52.3485241, 5.0082011, 52.356278, 4.995423, 345, 631</code></td>\n<td><span style="color:#0a0">\ntrue\n<span></td>\n</tr>\n<tr>\n<td><code class="language-text">52.3485789, 5.0082022, 52.353972, 4.995412, 134, 1083</code></td>\n<td><span style="color:#f00">\nfalse\n</span></td>\n</tr>\n<tr>\n<td><code class="language-text">52.3489271, 5.0082082, 52.356129, 4.993729, 245, 890</code></td>\n<td><span style="color:#f00">\nfalse\n</span></td>\n</tr>\n<tr>\n<td><code class="language-text">52.3485772, 5.0082090, 52.356605, 4.995392, 64, 402</code></td>\n<td><span style="color:#0a0">\ntrue\n<span></td>\n</tr>\n</tbody>\n</table>\n<p>Important part of the data set is the <strong>labels</strong> because we must know whether a parking was available in the given situation. Do we have these labels in our data that we have been collecting for years?</p>\n<h3>Cashless Parking Providers and data</h3>\n<p>What data do we have in reality? As the problem states - we need to give a prediction based on <strong>transaction history</strong>. These transaction history comes from a cashless parking provider(CPP) and basically are payments for parking in a particular zone at particular time.</p>\n<p>Clients of CPP use the provided services once they are parked and want to pay for the parking. Therefore CPP receives transactions only for successful parkings - <em>client managed to park in a particular area</em>. </p>\n<p>Moreover the <strong>successful parkings</strong> might be <em>false positives</em> since we don’t know where the client wanted to park <strong>initially</strong>. It is possible that the client wanted to park in one place but it was completely full so he ended up parking in another place far away from the initial destination point.</p>\n<p>The conclusion is that the <strong>transactions cannot be used as labeled training data set</strong> to train a model to predict parking availability.</p>\n<h3>Availability = Amount of Free Spots?</h3>\n<p>Can we derive availability from the amount of free parking spots? Why not? Whenever we can say that there will be <code class="language-text">X</code> parking spots free, we can say that parking in the area is available.</p>\n<p>In order to train our model to predict amount of free parking spots, our desired labeled training data set should look like:</p>\n<table>\n<thead>\n<tr>\n<th>input \n<br />\n curLat, curLon, destLat, destLon, day, minute</th>\n<th>label (output) \n<br />\n amount of free parking spots</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code class="language-text">52.3485772, 5.0082082, 52.356612, 4.895434, 244, 772</code></td>\n<td><span style="color:#0a0">\n23\n</span></td>\n</tr>\n<tr>\n<td><code class="language-text">52.3485241, 5.0082011, 52.356278, 4.995423, 345, 631</code></td>\n<td><span style="color:#0a0">\n68\n<span></td>\n</tr>\n<tr>\n<td><code class="language-text">52.3485789, 5.0082022, 52.353972, 4.995412, 134, 1083</code></td>\n<td><span style="color:#f00">\n0\n</span></td>\n</tr>\n<tr>\n<td><code class="language-text">52.3489271, 5.0082082, 52.356129, 4.993729, 245, 890</code></td>\n<td><span style="color:#f00">\n0\n</span></td>\n</tr>\n<tr>\n<td><code class="language-text">52.3485772, 5.0082090, 52.356605, 4.995392, 64, 402</code></td>\n<td><span style="color:#0a0">\n45\n<span></td>\n</tr>\n</tbody>\n</table>\n<p>In order to label the data we should know amount of free parking spots. The math here is pretty simple:</p>\n<ol>\n<li>Estimate a <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>a</mi><mi>p</mi><mi>a</mi><mi>c</mi><mi>i</mi><mi>t</mi><mi>y</mi></mrow><annotation encoding="application/x-tex">Capacity</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.07153em;">C</span><span class="mord mathit">a</span><span class="mord mathit">p</span><span class="mord mathit">a</span><span class="mord mathit">c</span><span class="mord mathit">i</span><span class="mord mathit">t</span><span class="mord mathit" style="margin-right:0.03588em;">y</span></span></span></span> of the parking area. As the capacity we can consider a historical maximum amount of simultanious parking transactions at the area.</li>\n<li>Amount of <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mi>c</mi><mi>c</mi><mi>u</mi><mi>p</mi><mi>i</mi><mi>e</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">Occupied</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.02778em;">O</span><span class="mord mathit">c</span><span class="mord mathit">c</span><span class="mord mathit">u</span><span class="mord mathit">p</span><span class="mord mathit">i</span><span class="mord mathit">e</span><span class="mord mathit">d</span></span></span></span> spots is amount of simultanious transactions for a given time and location. </li>\n<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi><mi>r</mi><mi>e</mi><mi>e</mi><mo>=</mo><mi>C</mi><mi>a</mi><mi>p</mi><mi>a</mi><mi>c</mi><mi>i</mi><mi>t</mi><mi>y</mi><mo>−</mo><mi>O</mi><mi>c</mi><mi>c</mi><mi>u</mi><mi>p</mi><mi>i</mi><mi>e</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">Free = Capacity - Occupied</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.13889em;">F</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit">e</span><span class="mord mathit">e</span><span class="mord rule" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mord rule" style="margin-right:0.2777777777777778em;"></span><span class="mord mathit" style="margin-right:0.07153em;">C</span><span class="mord mathit">a</span><span class="mord mathit">p</span><span class="mord mathit">a</span><span class="mord mathit">c</span><span class="mord mathit">i</span><span class="mord mathit">t</span><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="mord rule" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mord rule" style="margin-right:0.2222222222222222em;"></span><span class="mord mathit" style="margin-right:0.02778em;">O</span><span class="mord mathit">c</span><span class="mord mathit">c</span><span class="mord mathit">u</span><span class="mord mathit">p</span><span class="mord mathit">i</span><span class="mord mathit">e</span><span class="mord mathit">d</span></span></span></span></li>\n</ol>\n<h3>Accuracy of Free spots prediction</h3>\n<p>The accuracy of such model will depend on several factors and will vary per city.</p>\n<p><strong>Do we have all transactions in a City?</strong> If we don’t we cannot estimate a capacity of a parking location and how many spots are occupied. </p>\n<p><strong>Does enforcement works good?</strong> In worse case (when there is no enforcement)drivers won’t pay for parking. This will lead to situation where we see that there are 5 free parking spots, however they are occupied without paying.</p>\n<p><strong>Transactions reflect exect parking duration?</strong> There are cases when driver buys 20 minutes to park but leaves after 10 minutes. In couple minutes this spot gets occupied by another car that also creates a transaction. That can influence our estimations of parking space capacity by making it bigger.</p>\n<p><strong>Are there special tariffs?</strong> In a case when resedents don’t pay for the parking they will occupy a spot but it will not create a transaction. In residential area we will see many free spots that are occupied by resedents in reality.</p>\n<div class="mermaid">graph TD\n    start --> K{Major provider?}\n    D{Enforced?} --> |Yes| F{Buy time?}\n    D --> |No| B\n    K --> |No| B[Incomplete]\n    K --> |Yes| D\n    F --> |Yes| G[Inaccurate]\n    F --> |No| H[Complete]</div>\n<p>It worth mentioning that attempt to predict amount of free parking spots in a parking location in Amsterdam (where we didn’t have majority of all the transactions) resulted in weird numbers that exceeded amount of historical maximum of simultanious parkings.</p>\n<h3>Conclusion</h3>\n<p>Main conclusion we came to was that the CPP should get feedback from the users with regard to the parking experience. Simple questions can be asked after user parked: </p>\n<ul>\n<li>Have you parked where you initially wanted?</li>\n<li>How long did it take to park?</li>\n<li>Do you see more available parking spots nearby?</li>\n</ul>\n<p>This feedback will allow to build labeled training data set that will not depend on city specifics.</p>',frontmatter:{title:"Machine Learning and Parking Availability",date:"July 19, 2012",author:"",authorProfileLink:""}}},pathContext:{slug:"/pn-hackathon-2018/",previous:null,next:{fields:{slug:"/dont-lie-to-user/"},frontmatter:{title:"Do not lie to your user"}}}}}});
//# sourceMappingURL=path---pn-hackathon-2018-7c19d74d6f9ca25cb82e.js.map